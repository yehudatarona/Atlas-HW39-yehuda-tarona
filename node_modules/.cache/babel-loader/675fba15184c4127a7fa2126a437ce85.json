{"ast":null,"code":"var _jsxFileName = \"D:\\\\Speed Tech\\\\Ofer\\\\Recat\\\\react-app\\\\src\\\\upload_comps\\\\jsonTalk.js\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport _ from \"lodash\";\n\nfunction JsonTalk(props) {\n  let [ups_ar, setUps] = useState([]);\n  let [dhl_ar, setDhls] = useState([]);\n  let [fedex_ar, setFedex] = useState([]);\n  let [all_ar, setall] = useState([]);\n  let [showAr, setShowAr] = useState([]);\n  let myInput = useRef(null);\n  useEffect(() => {\n    fetch(\"/products.json\").then(resp => resp.json()).then(data => {\n      console.log(data); // let tempFedex = data.filter(item => {\n      //   return (item.type === 1&& item.status === 1)\n      // })\n\n      let tempFedex = [];\n      data.map(item => {\n        // let myItem\n        if (item.type === 1 && item.status === 1) {\n          // console.log(item.fedex)\n          item.fedex.type = 1;\n          item.fedex.status = 1;\n          tempFedex.push(item.fedex);\n        }\n      });\n      setFedex(tempFedex);\n      let tempDhl = data.filter(item => {\n        return item.type === 3 && item.status === 1;\n      });\n      setDhls(tempDhl);\n      let tempsUps = [];\n      data.map(item => {\n        if (item.type === 2 && item.status === 1) {\n          item.ups.map(iteminside => {\n            iteminside.type = 2;\n            iteminside.status = 1;\n            tempsUps.push(iteminside);\n          });\n        }\n      });\n      tempsUps = _.sortBy(tempsUps, [\"name\", \"price\"]);\n      console.log(tempsUps);\n      setUps(tempsUps);\n      setall([...tempsUps, ...tempDhl, ...tempFedex]);\n      setShowAr([...tempsUps, ...tempDhl, ...tempFedex]);\n    });\n  }, []);\n\n  const doSearch = () => {\n    console.log(myInput.current.value);\n    let searchQ = myInput.current.value; // עושים מול מערך אחר שמכיל הכל את הפילטר כדי\n    // שהוא לא יתכווץ בבדיקה הבאה\n\n    let temp_ar = all_ar.filter(item => {\n      return item.name.includes(searchQ);\n    });\n    setShowAr(temp_ar);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: myInput,\n    type: \"text\",\n    onInput: doSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), showAr.map(item => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: item.id,\n      className: \"border p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, item.name));\n  }));\n}\n\nexport default JsonTalk;","map":{"version":3,"sources":["D:/Speed Tech/Ofer/Recat/react-app/src/upload_comps/jsonTalk.js"],"names":["React","useEffect","useState","useRef","_","JsonTalk","props","ups_ar","setUps","dhl_ar","setDhls","fedex_ar","setFedex","all_ar","setall","showAr","setShowAr","myInput","fetch","then","resp","json","data","console","log","tempFedex","map","item","type","status","fedex","push","tempDhl","filter","tempsUps","ups","iteminside","sortBy","doSearch","current","value","searchQ","temp_ar","name","includes","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState , useRef } from 'react';\r\nimport _ from \"lodash\"\r\n\r\nfunction JsonTalk(props){\r\n  let [ups_ar,setUps] = useState([])\r\n  let [dhl_ar,setDhls] = useState([])\r\n  let [fedex_ar,setFedex] = useState([])\r\n  let [all_ar,setall] = useState([])\r\n  let [showAr , setShowAr] = useState([])\r\n\r\n  let myInput = useRef(null)\r\n\r\n\r\n  useEffect(() => {\r\n    fetch(\"/products.json\")\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      console.log(data)\r\n      // let tempFedex = data.filter(item => {\r\n      //   return (item.type === 1&& item.status === 1)\r\n      // })\r\n      let tempFedex = []\r\n       data.map(item => {\r\n        // let myItem\r\n          if(item.type === 1 && item.status === 1){\r\n            // console.log(item.fedex)\r\n            item.fedex.type = 1;\r\n            item.fedex.status = 1;\r\n            tempFedex.push( item.fedex)\r\n          }\r\n          \r\n        })\r\n      setFedex(tempFedex);\r\n\r\n      let tempDhl = data.filter(item => {\r\n        return (item.type === 3 && item.status === 1)\r\n      })\r\n      setDhls(tempDhl)\r\n\r\n      let tempsUps = []\r\n       data.map(item => {\r\n        if(item.type === 2 && item.status === 1 ){\r\n          item.ups.map(iteminside => {\r\n            iteminside.type = 2;\r\n            iteminside.status = 1;\r\n            tempsUps.push(iteminside)\r\n          })\r\n        }\r\n      })\r\n\r\n      tempsUps = _.sortBy(tempsUps,[\"name\",\"price\"])\r\n      console.log(tempsUps)\r\n      setUps(tempsUps)\r\n\r\n      setall([...tempsUps,...tempDhl,...tempFedex])\r\n      setShowAr([...tempsUps,...tempDhl,...tempFedex])\r\n    })\r\n  },[])\r\n\r\n  const doSearch = () => {\r\n    console.log(myInput.current.value)\r\n    let searchQ  = myInput.current.value;\r\n    // עושים מול מערך אחר שמכיל הכל את הפילטר כדי\r\n    // שהוא לא יתכווץ בבדיקה הבאה\r\n    let temp_ar = all_ar.filter(item => {\r\n      return (item.name.includes(searchQ))\r\n    })\r\n    setShowAr(temp_ar)\r\n  }\r\n\r\n\r\n  return(\r\n    <div>\r\n      <input ref={myInput} type=\"text\" onInput={doSearch}/>\r\n      {showAr.map(item => {\r\n        return(\r\n          <div key={item.id} className=\"border p-2\">\r\n            <h2>{item.name}</h2>\r\n          </div>\r\n        )\r\n      })}\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default JsonTalk"]},"metadata":{},"sourceType":"module"}